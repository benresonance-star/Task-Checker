@tailwind base;
@tailwind components;
@tailwind utilities;

:root {
  --background: #f8f9fa;
  --foreground: #374151;
  
  /* Brand Variables */
  --brand-blue: #4285F4;
  --brand-green: #34A853;
  --brand-green-light: #5DB975;
  --brand-red: #EA4335;
  --brand-yellow: #FBBC05;
  
  /* Dashboard & Panels */
  --project-info-bg: rgba(219, 234, 254, 0.7);
  --project-info-border: #BFDBFE;
  --notes-bg: rgba(219, 234, 254, 0.7);
  --notes-border: #BFDBFE;
  --notes-editor-bg: rgba(255, 255, 255, 0.5);
  --notes-editor-border: #E5E7EB;
  --notes-editor-separator: rgba(0, 0, 0, 0.1);
  --note-personal-bg: #fff9db;
  --note-project-bg: #fff4e6;
  --note-priority-bg: #fff0f0;
  --checklist-bg: rgba(239, 246, 255, 0.5);
  --checklist-border: #DBEAFE;
  --checklist-title: #111827;
  --section-bg: rgba(255, 255, 255, 0.6);
  --section-border: #DBEAFE;
  --section-title: #111827;
  --subsection-bg: rgba(255, 255, 255, 0.6);
  --subsection-border: #DBEAFE;
  --subsection-title: #4B5563;
  --task-title: #4B5563;
  --metadata-card-bg: rgba(255, 255, 255, 0.8);
  --metadata-card-border: #BFDBFE;
  
  /* Section Category Colors */
  --section-ident: #4285F4;
  --section-ident-icon: #4285F4;
  --section-plan: #34A853;
  --section-plan-icon: #34A853;
  --section-build: #F97316;
  --section-build-icon: #F97316;
  
  /* Hierarchy */
  --hierarchy-line: #D1D5DB;
  
  /* Prerequisites (Can I Proceed?) */
  --prereq-bg: rgba(255, 247, 237, 0.5);
  --prereq-border: #FFEDD5;
  --prereq-item-bg: rgba(255, 255, 255, 0.6);
    --prereq-text: #EA580C;
  --prereq-icon: #EA580C;
  --hub-inactive-border: rgba(0, 0, 0, 0.15);
  --hub-step2-inactive-bg: rgba(254, 226, 226, 0.8);
  --focus-water: rgba(59, 130, 246, 0.3);
  
  /* App Atmosphere */
  --app-bg: #FFFFFF;
  --sidebar-bg: #F9FAFB;
  --console-bg: #FFFFFF;
  
  /* Typography */
  --text-primary: #4B5563;
  --text-secondary: #6B7280;
  --text-heading: #111827;
  --font-size-base: 14px;
  --font-weight-heading: 900;
  --letter-spacing-heading: 0em;
  --line-height-base: 1.5;
  
  /* Radii Variables */
  --radius-card: 20px;
  --radius-section: 20px;
  --radius-subsection: 20px;
  --radius-button: 12px;
  --radius-container: 32px;
  --radius-widget: 24px;
  --radius-sidebar: 0px;
  --radius-project-info: 32px;
  --radius-metadata-card: 20px;
  --radius-focus-card: 48px;
  --radius-task-button: 12px;
}

.dark {
  --background: #202124;
  --foreground: #d1d5db;
  --note-personal-bg: #423b24;
  --note-project-bg: #422f1c;
  --hub-inactive-border: rgba(255, 255, 255, 0.3);
  --hub-step2-inactive-bg: rgba(254, 226, 226, 0.1);
  --focus-water: rgba(59, 130, 246, 0.2);
}

@keyframes completion-fade {
  0% { 
    opacity: 0; 
    animation-timing-function: ease-in-out;
  }
  50% { 
    opacity: 1; 
    animation-timing-function: ease-in-out;
  }
  100% { 
    opacity: 0; 
  }
}

.animate-completion-pulse {
  background-color: var(--brand-green-pulse);
  animation: completion-fade var(--pulse-frequency-done, 3s) infinite;
}

body {
  background-color: var(--app-bg);
  color: var(--text-primary);
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";
  font-size: var(--font-size-base);
  line-height: var(--line-height-base);
}

@layer components {
  .google-card {
    @apply border border-gray-200 dark:border-gray-700 rounded-card p-4 shadow-sm bg-white dark:bg-gray-800 transition-all;
  }
  
  .btn-google {
    @apply px-4 py-2 rounded-button font-medium transition-all active:scale-95 disabled:active:scale-100;
  }
  
  .custom-scrollbar::-webkit-scrollbar {
    width: 6px;
  }
  
  .custom-scrollbar::-webkit-scrollbar-track {
    @apply bg-transparent;
  }
  
  .custom-scrollbar::-webkit-scrollbar-thumb {
    @apply bg-gray-200 dark:bg-gray-700 rounded-full;
  }

  .prose p,
  .ProseMirror p {
    @apply my-1;
  }

  .ProseMirror {
    @apply h-full outline-none;
  }

  /* Ensure TipTap lists are visible */
  .ProseMirror ul, 
  .prose ul {
    list-style-type: disc !important;
    padding-left: 1.5rem !important;
    margin: 1rem 0 !important;
    display: block !important;
  }

  .ProseMirror ol,
  .prose ol {
    list-style-type: decimal !important;
    padding-left: 1.5rem !important;
    margin: 1rem 0 !important;
    display: block !important;
  }

  .ProseMirror li,
  .prose li {
    display: list-item !important;
    margin: 0.25rem 0 !important;
  }

  /* Styling for links in the editor */
  .ProseMirror a,
  .prose a {
    color: #4285F4 !important; /* Google Blue */
    text-decoration: underline !important;
    font-weight: 500 !important;
    background-color: rgba(66, 133, 244, 0.1) !important;
    padding: 0 2px !important;
    border-radius: 2px !important;
    cursor: pointer !important;
    transition: all 0.2s !important;
  }

  .ProseMirror a:hover,
  .prose a:hover {
    background-color: rgba(66, 133, 244, 0.2) !important;
    color: #1a73e8 !important;
  }

  /* 
   * MOBILE 16PX RULE: Prevents iOS Safari from auto-zooming on inputs.
   * Only applied to active entry surfaces so that display text remains 
   * at the professional, high-density design size.
   */
  @media (max-width: 768px) {
    input, 
    textarea, 
    .ProseMirror {
      font-size: 16px !important;
    }
  }
}

